<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"> 

	<title>Crosslink Next</title>

	<link href="crosslink/css/layout.css" rel="stylesheet" />
</head>
<body>
	<script type="text/javascript">
		var agenda = {
	"name": "Introduction to Backbone.js",
	"trainers": [
		"Vernon Kesner <vernonkesner@gmail.com>"
	],
	"support": [
		"training-content/content/assets"
	],
	"agenda": {
		"Intro": [
			{
				"title": "Introduction to Backbone.js",
				"sidebar": false,
				"enableDemos": true,
				"plugins": [
					"livedemo",
					"notify"
				],
				"theme": "blue-vernon",
				"file": "training-content/content/CharlotteJS/Backbone/intro.md",
				"content": "&lt;!--\n{\n\t\"title\": \"Introduction to Backbone.js\",\n\t\"sidebar\": false,\n\t\"enableDemos\": true,\n\t\"plugins\": [ \"livedemo\", \"notify\" ],\n\t\"theme\": \"blue-vernon\"\n}\n-->\n\n---\n\n# Introduction to Backbone.js\n## The Crash Course\n\n---\n\n# What is Backbone.js?\n\n> Backbone.js gives structure to web applications by providing &lt;strong>models&lt;/strong> with key-value binding and custom events, &lt;strong>collections&lt;/strong> with a rich API of enumerable functions, &lt;strong>views&lt;/strong> with declarative event handling, and connects it all to your existing API over a RESTful JSON interface.\n\n---\n\n# What is Backbone.js?\n\n* Created by Jeremy Ashkenas (Backbone, Underscore, CoffeeScript)\n* Over 180 contributors\n* Starred over 14.5k times on GitHub\n* Over 2.8k Forks\n* Used by LinkedIn, USA Today, Hulu, Bitbucket, Basecamp, Disqus\n\n---\n\n# Why Backbone.js?\n\n* Lightweight, mature library with minimalist approach\n* Provides common foundation without being opinionated\n* No application logic in your HTML\n* Plays nicely with other libraries and frameworks\n* Scalable\n* Great Documentation ([http://backbonejs.org/](http://backbonejs.org/))\n* Annotated Source Code ([http://backbonejs.org/docs/backbone.html](http://backbonejs.org/docs/backbone.html))\n\n---\n\n# Dependencies\n\n* Underscore.js (Hard dependency)\n\n* jQuery\n\n---\n\n# Backbone.js\n\nThere are several pieces that we will look at tonight:\n\n* Models\n* Views\n* Collections\n* Collection Views\n* Router & History\n\n---\n\n# Models\n\n---\n\n# Models\n## The problem\n\nWithout models, our data is directly in the DOM.\n\n```html\n&lt;div data-type=\"book\">\n\t&lt;span class=\"author\">F. Scott Fitzgerald&lt;/span>\n\t&lt;span class=\"title\">The Great Gatsby&lt;/span>\n&lt;/div>\n```\n\n---\n\n# Models allow you&lt;br>to separate your&lt;br>data from the DOM\n\n---\n\n# Models\n## Creating\n\n```javascript\n// Create a Model class\nvar Book = Backbone.Model.extend( {} );\n\n// Create a Model instance\nvar book = new Book({\n\tauthor: \"F. Scott Fitzgerald\",\n\ttitle: \"The Great Gatsby\"\n});\n```\n\n---\n\n# Models\n## Creating\n\n```javascript\n// #highlight 1,2\n// Create a Model class\nvar Book = Backbone.Model.extend( {} );\n\n// Create a Model instance\nvar book = new Book({\n\tauthor: \"F. Scott Fitzgerald\",\n\ttitle: \"The Great Gatsby\"\n});\n```\n\n---\n\n# Models\n## Creating\n\n```javascript\n// #highlight 4,5,6,7,8\n// Create a Model class\nvar Book = Backbone.Model.extend( {} );\n\n// Create a Model instance\nvar book = new Book({\n\tauthor: \"F. Scott Fitzgerald\",\n\ttitle: \"The Great Gatsby\"\n});\n```\n\n---\n\n# Models\n## Default attributes\n\n```javascript\nvar Book = Backbone.Model.extend({\n\tdefaults: {\n\t\ttitle: \"TBD\",\n\t\tauthor: \"\"\n\t}\n});\n\nvar book = new Book();\n\nconsole.log( JSON.stringify( book.attributes ) );\n```\n\n---\n\n# Models\n## Getting attributes\n\n```javascript\n// #highlight 9,10,12\n// #truncate\n// Create a Model class\nvar Book = Backbone.Model.extend( {} );\n// /truncate\n\n// Create a Model instance\nvar book = new Book({\n\tauthor: \"F. Scott Fitzgerald\",\n\ttitle: \"The Great Gatsby\"\n});\n\n// Get a property value\nvar author = book.get( \"author\" );\n\nconsole.log( author );\n```\n\n---\n\n# Models\n## Getting all attributes\n\nThere may be times where you want to grab all of an instances attributes.\n\n```javascript\n// #highlight 9,11\n// #truncate\n// Create a Model class\nvar Book = Backbone.Model.extend( {} );\n// /truncate\n\n// Create a Model instance\nvar book = new Book({\n\tauthor: \"F. Scott Fitzgerald\",\n\ttitle: \"The Great Gatsby\"\n});\n\nvar attrs = book.toJSON();\n\nconsole.log( JSON.stringify( attrs ) );\n```\n\n---\n\n# Models\n## Getting all attributes\n\nAt times, `toJSON` may be overwritten. You can also use the `attributes` property.\n\n```javascript\n// #highlight 9,11\n// #truncate\n// Create a Model class\nvar Book = Backbone.Model.extend( {} );\n// /truncate\n\n// Create a Model instance\nvar book = new Book({\n\tauthor: \"F. Scott Fitzgerald\",\n\ttitle: \"The Great Gatsby\"\n});\n\nvar attrs = book.attributes;\n\nconsole.log( JSON.stringify( attrs ) );\n```\n\n---\n\n# Models\n## Getting all attributes\n\nBackbone's default `toJSON()` is using `.attributes` behind the scenes anyway.\n\n```javascript\ntoJSON: function(options) {\n\treturn _.clone(this.attributes);\n}\n```\n\n### Backbone.js v1.0.0 Source\n\n---\n\n# Models\n## Setting attributes\n\n```javascript\n// #highlight 9,10,12\n// #truncate\n// Create a Model class\nvar Book = Backbone.Model.extend( {} );\n// /truncate\n\n// Create a Model instance\nvar book = new Book({\n\tauthor: \"F. Scott Fitzgerald\",\n\ttitle: \"The Great Gatsby\"\n});\n\n// Set a property value\nbook.set( { author: \"George Orwell\", title: \"1984\" } );\n\nconsole.log( book.get( \"author\" ) + \": \" + book.get( \"title\" ) );\n```\n\n---\n\n# Models\n## Initialization\n\nThe `initialize` method is automatically invoked when a new instance is created.\n\n```javascript\nvar Book = Backbone.Model.extend({\n\tinitialize: function () {\n\t\tconsole.log( \"Initialized!\" );\n\t}\n});\n\nvar book = new Book();\n```\n\n---\n\n# Models\n## Context\n\nBackbone sets the context of instance methods to the instance created\n\n```javascript\nvar Book = Backbone.Model.extend({\n\tlogTitle: function () {\n\t\t// \"this\" is the current Book instance\n\t\tconsole.log( this.get( \"title\" ) );\n\t}\n});\n```\n\n---\n\n# Models\n## Events\n\n* `change`\n* `change:attr`\n* `all`\n* `destroy`\n* `sync`\n* `error`\n* `request`\n* `invalid`\n\n---\n\n# Models\n## Events - Syntax\n\n```javascript\nvar Book = Backbone.Model.extend( { } );\nvar book = new Book( { title: \"1984\", author: \"George Orwell\" } );\n\nbook.on( \"change:title\", function( model ) {\n\tconsole.log( \"Title changed: \" + model.attributes.title );\n});\n\nbook.set( \"title\", \"The Great Gatsby\" );\nbook.set( \"author\", \"F. Scott Fitzgerald\" );\n```\n\n---\n\n# Views\n\n---\n\n# Views\n## Key points to understand\n\n* Views **do not** determine anything about your HTML or CSS\n\n* Views are focused on conventions\n\n* Views can be used with any JavaScript templating library\n\n* Views provide abstractions for rendering markup and writing it into the DOM\n\n* Views handle both DOM and Application events\n\n---\n\n# Views\n## Creating a view\n\nTo create a new view class, we extend `Backbone.View`\n\n```javascript\nvar BookView = Backbone.View.extend( {} );\n\nvar bookView = new BookView();\n```\n\n---\n\n# Views\n## Back it with a model\n\n```javascript\nvar Book = Backbone.Model.extend( {} );\nvar book = new Book( { title: \"1984\", author: \"George Orwell\" } );\n\nvar BookView = Backbone.View.extend( {} );\nvar bookView = new BookView( { model: book } );\n```\n\n---\n\n# The View Element\n\n---\n\n# The view element\n## `el`\n\n* Every view instance has a DOM element at all times regardless of whether it has been inserted into the DOM or not. \n\n* It is represented by the `el` property.\n\n* The view element can create a new element or use an existing element in the DOM.\n\n* The view element defaults to a `div` but can be any valid HTML element (e.g. `div`, `p`, `li`, `section`, `article`, etc)\n\n---\n\n# The view element\n## Creating a new element\n\nThe `el` property is created from a combination of view properties\n\n```javascript\nvar BookView = Backbone.View.extend({\n\ttagName: \"li\",\n\tclassName: \"book\",\n\tid: \"thegreatestbookever\",\n\tattributes: {\n\t\t\"data-completed\": true\n\t}\n});\n```\n\n```html\n&lt;li class=\"book\" id=\"thegreatestbookever\" data-completed=\"true\">&lt;/li>\n```\n\n---\n\n# The view element\n## Using existing elements\n\n```javascript\nvar BookView = Backbone.View.extend({\n\tel: \".container\"\n});\n```\n\n```html\n&lt;div class=\"container\">&lt;/div>\n```\n\n---\n\n# Rendering a view\n\n---\n\n# Rendering a view\n\nThe `render` function renders the view template from model data\n\n```javascript\n// #hidden\nvar Book = Backbone.Model.extend( {} );\nvar book = new Book( { title: \"1984\", author: \"George Orwell\" } );\n// /hidden\nvar BookView = Backbone.View.extend({\n\trender: function () {\n\t\tvar content = \"&lt;p>\" + this.model.get( \"title\" ) + \"&lt;/p>\";\n\t\t$( this.el )\n\t\t\t.html( content )\n\t\t\t.appendTo( \"body\" );\n\n\t\treturn this;\n\t}\n});\n\nvar bookView = new BookView( { model: book } );\nbookView.render();\n```\n\n---\n\n# Rendering a view\n## `render`\n\n```javascript\n// #highlight 3,4,8\n// #hidden\nvar Book = Backbone.Model.extend( {} );\nvar book = new Book( { title: \"1984\", author: \"George Orwell\" } );\n// /hidden\nvar BookView = Backbone.View.extend({\n\trender: function () {\n\t\tvar content = \"&lt;p>\" + this.model.get( \"title\" ) + \"&lt;/p>\";\n\t\t$( this.el )\n\t\t\t.html( content )\n\t\t\t.appendTo( \"body\" );\n\n\t\treturn this;\n\t}\n});\n\nvar bookView = new BookView( { model: book } );\nbookView.render();\n```\n\n---\n\n# Rendering a view\n## `return this`\n\nA good convention is to return `this` at the end of `render` to enable chained calls.\n\n```javascript\n// #highlight 8\n// #hidden\nvar Book = Backbone.Model.extend( {} );\nvar book = new Book( { title: \"1984\", author: \"George Orwell\" } );\n// /hidden\nvar BookView = Backbone.View.extend({\n\trender: function () {\n\t\tvar content = \"&lt;p>\" + this.model.get( \"title\" ) + \"&lt;/p>\";\n\t\t$( this.el )\n\t\t\t.html( content )\n\t\t\t.appendTo( \"body\" );\n\n\t\treturn this;\n\t}\n});\n// #hidden\nvar bookView = new BookView( { model: book } );\nbookView.render();\n// /hidden\n```\n\n---\n\n# Rendering a view\n## `$( this.el ) === this.$el`\n\nBackbone provides a `$el` property that is a cached jQuery object for the main DOM element\n\n```javascript\n// #highlight 4,5,6\n// #hidden\nvar Book = Backbone.Model.extend( {} );\nvar book = new Book( { title: \"1984\", author: \"George Orwell\" } );\n// /hidden\nvar BookView = Backbone.View.extend({\n\trender: function () {\n\t\tvar content = \"&lt;p>\" + this.model.get( \"title\" ) + \"&lt;/p>\";\n\t\t$( this.el )\n\t\t\t.html( content )\n\t\t\t.appendTo( \"body\" );\n\n\t\treturn this;\n\t}\n});\n// #hidden\nvar bookView = new BookView( { model: book } );\nbookView.render();\n// /hidden\n```\n\n---\n\n# Rendering a view\n## `$( this.el ) === this.$el`\n\nBackbone provides a `$el` property that is a cached jQuery object for the main DOM element\n\n```javascript\n// #highlight 4,5,6\n// #hidden\nvar Book = Backbone.Model.extend( {} );\nvar book = new Book( { title: \"1984\", author: \"George Orwell\" } );\n// /hidden\nvar BookView = Backbone.View.extend({\n\trender: function () {\n\t\tvar content = \"&lt;p>\" + this.model.get( \"title\" ) + \"&lt;/p>\";\n\t\tthis.$el\n\t\t\t.html( content )\n\t\t\t.appendTo( \"body\" );\n\n\t\treturn this;\n\t}\n});\n// #hidden\nvar bookView = new BookView( { model: book } );\nbookView.render();\n// /hidden\n```\n\n---\n\n# Rendering a view\n## `$el`\n\nYou can also use `$el` to run scoped jQuery object methods\n\n```javascript\nthis.$el.find( \"a[href*='twitter.com']\" ).addClass( \"social\" );\n```\n\n---\n\n# Rendering a view\n## What about the content?\n\n```javascript\n// #highlight 3\n// #hidden\nvar Book = Backbone.Model.extend( {} );\nvar book = new Book( { title: \"1984\", author: \"George Orwell\" } );\n// /hidden\nvar BookView = Backbone.View.extend({\n\trender: function () {\n\t\tvar content = \"&lt;p>\" + this.model.get( \"title\" ) + \"&lt;/p>\";\n\t\tthis.$el\n\t\t\t.html( content )\n\t\t\t.appendTo( \"body\" );\n\n\t\treturn this;\n\t}\n});\n// #hidden\nvar bookView = new BookView( { model: book } );\nbookView.render();\n// /hidden\n```\n\n---\n\n# Templating\n\nBackbone supports any JavaScript templating library, but Underscore.js is already on the page and provides the `_.template` method.\n\n```javascript\n// #hidden\nvar Book = Backbone.Model.extend( {} );\nvar book = new Book( { title: \"1984\", author: \"George Orwell\" } );\n// /hidden\nvar BookView = Backbone.View.extend({\n\ttemplate: _.template( \"&lt;p>&lt;%= title %>&lt;/p>\" ),\n\trender: function () {\n\t\tthis.$el\n\t\t\t.html( this.template( this.model.attributes ) )\n\t\t\t.appendTo( \"body\" );\n\n\t\treturn this;\n\t}\n});\n// #hidden\nvar bookView = new BookView( { model: book } );\nbookView.render();\n// /hidden\n```\n\n---\n\n# Views\n## DOM events\n\nThe `events` hash allows us to set up delegated DOM events easily\n\n```javascript\nvar BookView = Backbone.View.extend({\n\tevents: {\n\t\t\"click .edit\": \"edit\", // delegated to .edit\n\t\t\"click\": \"anyClick\", // bound to view element\n\t\tsubmit: \"processForm\" // captures keyboard and click submissions\n\t}\n});\n```\n\n```javascript\n\"&lt;eventname> &lt;selector>\": \"&lt;callback>\"\n```\n\n---\n\n# Views\n## Model events\n\nAlthough you can use `.on` syntax, using `listenTo` is preferred\n\n```javascript\n// #highlight 2,3,4\nvar BookView = Backbone.View.extend({\n\tinitialize: function () {\n\t\tthis.listenTo( this.model, \"change\", this.render );\n\t}\n});\n```\n\n---\n\n# Views\n## Removing views\n\nCalling `.remove` will remove a view from the DOM and will also call `stopListening` to remove any bound `listenTo` events.\n\n```javascript\n// #highlight 3\nvar BookView = Backbone.View.extend({\n\tinitialize: function () {\n\t\tthis.listenTo( this.model, \"destroy\", this.remove );\n\t}\n});\n```\n\n---\n\n# Collections\n\n---\n\n# Backbone Collections are&lt;br>ordered sets of models\n\n---\n\n# Collections\n## Creating\n\nCollections are created by extending `Backbone.Collection` and are generally provided a model class that it will manage.\n\n```javascript\nvar Book = Backbone.Model.extend( {} );\n\nvar Books = Backbone.Collection.extend( {\n\tmodel: Book\n});\n\nvar classics = new Books();\n```\n\n---\n\n# Collections\n## Adding models at instantiation\n\n```javascript\nvar Book = Backbone.Model.extend( {} );\n\nvar monteCristo = new Book( { title: \"The Count of Monte Cristo\", author: \"Alexandre Dumas\" } );\nvar greatGatsby = new Book( { title: \"The Great Gatsby\", author: \"F. Scott Fitzgerald\" } );\n\nvar Books = Backbone.Collection.extend( {\n\tmodel: Book\n});\n\nvar classics = new Books( [ monteCristo, greatGatsby ] );\n```\n\n---\n\n# Collections\n## Adding models after instantiation\n\n```javascript\nvar Book = Backbone.Model.extend( {} );\n\nvar monteCristo = new Book( { title: \"The Count of Monte Cristo\", author: \"Alexandre Dumas\" } );\nvar greatGatsby = new Book( { title: \"The Great Gatsby\", author: \"F. Scott Fitzgerald\" } );\n\nvar Books = Backbone.Collection.extend( {\n\tmodel: Book\n});\n\nvar classics = new Books();\n\nclassics.add( [ monteCristo, greatGatsby ] );\n// can also pass in single models ==> classics.add( monteCristo );\n```\n\n---\n\n# Collections\n## Creating new models and adding\n\nCollections have a nice `create` convenience function that allows you to both create a model, save it and add it a colection.\n\n```javascript\n// #truncate\nvar Book = Backbone.Model.extend( {} );\n\nvar monteCristo = new Book( { title: \"The Count of Monte Cristo\", author: \"Alexandre Dumas\" } );\nvar greatGatsby = new Book( { title: \"The Great Gatsby\", author: \"F. Scott Fitzgerald\" } );\n// /truncate\n\nvar Books = Backbone.Collection.extend( {\n\tmodel: Book\n});\n\nvar classics = new Books();\n\nclassics.create( { title: \"Convenience Functions FTW!\", author: \"Nature\" } );\n```\n\n---\n\n# Collections\n## Accessing models by id or index\n\n```javascript\nvar Book = Backbone.Model.extend( {} );\nvar Books = Backbone.Collection.extend( { model: Book } );\n\nvar books = new Books([\n\tnew Book( { id: 3, title: \"1984\", author: \"George Orwell\" } ),\n\tnew Book( { id: 7, title: \"The Great Gatsby\", author: \"F. Scott Fitzgerald\" } ),\n\tnew Book( { id: 9, title: \"The Odyssey\", author: \"Homer\" } )\n]);\n\nvar orwell = books.get( 3 ),\n    homer = books.at( 2 );\n\nconsole.log( JSON.stringify( orwell.attributes ) );\nconsole.log( JSON.stringify( homer.attributes ) );\n```\n\n---\n\n# Collections\n## Default Sorting\n\nThe default sorting order of a collection can be controlled with the `comparator` property. This maintains ordering even as new models are added to the collection.\n\nYou can define the `comparator` in 3 ways:\n\n1. As a `sortBy` function\n2. As a `sort` funtion\n3. As a string indicating the attribute to sort by\n\n---\n\n# Collections\n## Default Sorting\n\n```javascript\n// #highlight 2,3,4,8,9,10,14\nvar Users = Backbone.Collection.extend({\n\tcomparator: function ( model ) {\n\t\treturn model.get( \"age\" );\n\t}\n});\n\nvar MenuItems = Backbone.Collection.extend({\n\tcomparator: function ( model1, model2 ) {\n\t\treturn model1.get( \"cost\" ) &lt; model2.get( \"cost\" ) ? -1 : 1;\n\t}\n});\n\nvar Books = Backbone.Collection.extend({\n\tcomparator: \"publishedYear\"\n});\n```\n\n---\n\n# Collections\n## Events\n\n* Collection event work just like model events using `.on`\n\n* Model events also fire on the collection allowing you to listen to changes on any model in the collection\n\n```javascript\ncollection.on( \"&lt;eventname>\", \"&lt;callback>\" );\n```\n\n---\n\n# Collections\n## Special events\n\n* `reset`\n\t* Event is triggered on both `reset()` and `fetch()`\n\t* In Backbone v1.x you need to pass `{ reset: true }` to your call to `fetch()` in order to receive the `reset` event.\n* `add`\n\t* Triggered when a model is added\n* `remove`\n\t* Triggered when a model is removed\n\n---\n\n# Backbone Collections Inherit Many&lt;br>Underscore Utility Methods\n\n---\n\n# Collection Views\n\n---\n\n# Collection Views are responsible&lt;br>for a group of model views\n\n---\n\n# Collection Views\n## View relationships\n\n&lt;img src=\"assets/backbone/view-relationship.svg\" />\n\n---\n\n# Router / History\n\n---\n\n# Backbone.Router\n\n* Backbone's router provides methods for easily connecting URLs to parts of your application.\n\n* Any particular state of your application that should be bookmarkable, sharable or back-button enabled needs a specific URL.\n\n* You can have multiple routers but in most applications a single router is enough.\n\n---\n\n# Backbone.Router\n## Creating a Router class\n\nTo create a custom router class, we extend `Backbone.Router` and then define the route and function maps in the `routes` object.\n\n```javascript\nvar Router = Backbone.Router.extend({\n\troutes: {\n\t\t// When the URL is /books or #/books the allBooks method is invoked\n\t\t\"books\": \"allBooks\"\n\t}\n});\n```\n\n---\n\n# Backbone.Router\n## Route Matching\n\nWe can use a `:param` variable to match URL components between two slashes\n\n```javascript\nvar Router = Backbone.Router.extend({\n\troutes: {\n\t\t\"books/:id\": \"bookDetail\"\n\t},\n\n\tbookDetail: function ( id ) {\n\t\t...\n\t}\n});\n```\n\n---\n\n# Backbone.Router\n## Optional parts\n\nRather than create duplicate routes, we can use parentheses to define optional parts. This allows for more complex routes to match commonly wanted URL structures.\n\n```javascript\nvar Router = Backbone.Router.extend({\n\troutes: {\n\t\t\"search(/:query)(/p:page)(/)\": \"allBooks\"\n\t}\n});\n```\n\n---\n\n# Backbone.Router\n## Catch-all routes\n\nMany times, we'll want a fallback route when there isn't a matching route found.\n\n```javascript\nvar Router = Backbone.Router.extend({\n\troutes: {\n\t\t\"*fallback\": function( fallback ) {\n\t\t\t// matches any number of URL components\n\t\t\t// e.g. invalid/url/path/to/file.txt\n\t\t}\n\t}\n});\n```\n\n---\n\n# Backbone.Router\n## The problem\n\nAt times, standard routes do not provide explicit enough control.\n\n```javascript\nvar Router = Backbone.Router.extend({\n\troutes: {\n\t\t\"books/:id\": \"bookDetail\"\n\t},\n\n\tbookDetail: function ( id ) {\n\t\t// shouldn't be called when URL is \"books/notabook\"\n\t\t// but unfortunately we do not have enough control\n\t}\n});\n```\n\n---\n\n# Backbone.Router\n## The solution: regex routes\n\n```javascript\nvar Router = Backbone.Router.extend({\n\n\tinitialize: function () {\n\t\t// Now \"books/notabook\" will not match\n\t\t// but \"books/8\" and \"books/8/\" will\n\t\tthis.route( /^books\\/(\\d+)(\\/?)$/, \"bookDetail\" );\n\t},\n\tbookDetail: function ( id ) {\n\t\t// Only invoked when id is a number\n\t}\n});\n```\n\n---\n\n# Backbone.Router\n## Create a router instance\n\n```javascript\n// #highlight 10\nvar Router = Backbone.Router.extend({\n\tinitialize: function () {\n\t\tthis.route( /^books\\/(\\d+)(\\/?)$/, \"bookDetail\" );\n\t},\n\tbookDetail: function ( id ) {\n\t\t// Only invoked when id is a number\n\t}\n});\n\nvar router = new Router();\n```\n\n---\n\n# You still need to tell Backbone&lt;br>when to start listening for routes\n\n---\n\n# Backbone.History\n\n`Backbone.History` serves as a global router to handle all `hashchange` or `pushState` events. It will automatically match defined routes and trigger callbacks.\n\nWhile we do not need to create an instance, we do need to tell `Backbone.History` to `start`\n\n```javascript\nnew Router();\n\n$( document ).ready( function () {\n\tBackbone.history.start();\n});\n```\n\n---\n\n# Backbone.History\n## HTML5 pushState\n\nYou can opt-in to use the HTML History API in capable browsers. Unsupported browsers will fallback to hash-based URLs.\n\n```javascript\n$( document ).ready( function () {\n\tBackbone.history.start( { pushState: true } );\n});\n```\n\n---\n\n&lt;p style=\"text-align:center;\">&lt;img src = \"assets/vernon/breathe.gif\" width=\"100%\" >&lt;/p>\n\n---\n\n# Let's build a simple app!\n\n---\n\n# Thanks!\n\n* Catch me on Twitter [@vernonk](http://twitter.com/vernonk)\n\n* URL to app repo: [http://bit.ly/cjs-backbone]( http://bit.ly/cjs-backbone)\n\n---\n"
			}
		]
	},
	"contrast": "normal",
	"current": "Intro"
};
	</script>
	<script data-main="crosslink/main" src="./crosslink/js/libs/require-jquery.js"></script>
</body>
</html>